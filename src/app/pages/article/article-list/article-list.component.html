
<div class="example-header">
  <div class="row" style="margin-bottom: 15px;">

    <div class="col col-12 col-md-12">
      <a href="#" [routerLink]="['../', 'article-create']" mat-fab aria-label="Example icon-button with a heart icon" style="width: 35px; height: 35px; float: right;">
        <mat-icon class="toto" style="padding: 5px 0 !important;">add</mat-icon>
      </a>
    </div>

  </div>
</div>

<tc-card [title]="'Liste des articles'" [padding]="0">
  <div class="table-responsive">
    <table mat-table [dataSource]="articles">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <!-- Photo Column -->
      <ng-container matColumnDef="Photo">
        <th mat-header-cell *matHeaderCellDef class="th-left"> Photo </th>
        <td mat-cell *matCellDef="let element" style="padding-top: 10px; padding-bottom: 10px;">
          <div class="avatar-upload d-flex justify-content-left" *ngIf="element.Photo !== null && element.Photo !== ''">
            <div class="avatar-preview-detail">
              <div id="imagePreview"
                   [style.background-image]="'url('+ element.Photo +')'"
                   class="image-preview">
              </div>
            </div>
          </div>
          <div class="avatar-upload d-flex justify-content-left" *ngIf="element.Photo === null || element.Photo === ''">
            <div class="avatar-preview-detail">
              <div id="imagePreview"
                   [style.background-image]="'url(assets/content/no-image.png)'"
                   class="image-preview">
              </div>
            </div>
          </div>
        </td>
      </ng-container>

      <!-- Titre Column -->
      <ng-container matColumnDef="Titre">
        <th mat-header-cell *matHeaderCellDef>Titre</th>
        <td mat-cell *matCellDef="let element">
          <a [routerLink]="" (click)="goToEditArticle(element.id)" style="color: #0d6efd; cursor: pointer;">
            {{ element.Titre }}
          </a>
        </td>
      </ng-container>

      <!-- Categorie Column -->
      <ng-container matColumnDef="Categorie">
        <th mat-header-cell *matHeaderCellDef class="th-center">Catégorie</th>
        <td mat-cell *matCellDef="let element" class="th-center">{{ element.Categorie }}</td>
      </ng-container>

      <!-- PrixInitialeUnitaire Column -->
      <ng-container matColumnDef="PrixInitialeUnitaire">
        <th mat-header-cell *matHeaderCellDef class="th-center">Prix unitaire initiale</th>
        <td mat-cell *matCellDef="let element" class="th-center">{{ element.PrixInitialeUnitaire }}</td>
      </ng-container>

      <!-- QuantiteInitiale Column -->
      <ng-container matColumnDef="QuantiteInitiale">
        <th mat-header-cell *matHeaderCellDef class="th-center">Qté initiale</th>
        <td mat-cell *matCellDef="let element" class="th-center">{{ element.QuantiteInitiale }}</td>
      </ng-container>

      <!-- QuantiteEnStock Column -->
      <ng-container matColumnDef="QuantiteEnStock">
        <th mat-header-cell *matHeaderCellDef class="th-center">Qté stock</th>
        <td mat-cell *matCellDef="let element" class="th-center">{{ element.QuantiteEnStock }}</td>
      </ng-container>

      <!-- IsActive Column -->
      <ng-container matColumnDef="IsActive">
        <th mat-header-cell *matHeaderCellDef class="th-center">Active</th>
        <td mat-cell *matCellDef="let element" class="th-center">
          <span *ngIf="element.IsActive === true" style="color: green;">
            Oui
          </span>
          <span *ngIf="element.IsActive === false" style="color: red;">
            Non
          </span>
        </td>
      </ng-container>

      <!-- CreatedDate Column -->
      <ng-container matColumnDef="CreatedDateString">
        <th mat-header-cell *matHeaderCellDef>Date création</th>
        <td mat-cell *matCellDef="let element">{{ element.CreatedDateString }}</td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <div class="demo-list flex-nowrap align-items-center justify-content-end">
            <button tc-button (click)="goToEditArticle(element.id)" [afterIcon]="'sli-pencil'" [view]="'accent'" [square]="true" [outline]="true" [tcShape]="'50%'"></button>
            <button tc-button (click)="goToArticleOnline(element.id)" [afterIcon]="'sli-screen-desktop'" [view]="'success'" [square]="true" [tcShape]="'50%'"></button>
            <button tc-button (click)="openDialog(element.id, element.Titre)" [afterIcon]="'sli-trash'" [view]="'error'" [square]="true" [tcShape]="'50%'"></button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="getDisplayedColumns()"></tr>
      <tr mat-row *matRowDef="let row; columns: getDisplayedColumns();"></tr>
    </table>
  </div>
</tc-card>

